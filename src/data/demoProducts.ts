// üõí Donn√©es de d√©monstration AfricaHub - Organis√©es par secteurs
// Couvre tous les secteurs majeurs du comparateur africain

export const demoProducts = [
    // ===== üì± √âLECTRONIQUE & HIGH-TECH =====
    {
        id: "demo-airpods-pro",
        name: "Apple AirPods Pro (2√®me g√©n√©ration)",
        description:
            "√âcouteurs sans fil avec r√©duction de bruit active et audio spatial",
        price: 189000,
        currency: "XOF",
        image_url: "/images/products/airpods-pro.jpg",
        features: [
            "R√©duction de bruit active",
            "Audio spatial personnalis√©",
            "Autonomie 6h + 24h avec bo√Ætier",
            "R√©sistant √† l'eau IPX4",
            "Puce H2 pour un son premium",
        ],
        offers: [
            {
                merchant: "Orange C√¥te d'Ivoire",
                price: 189000,
                currency: "XOF",
                shipping: 0,
                delivery: "Retrait gratuit en magasin",
                stock: "En stock",
                rating: 4.5,
                logo: "/images/merchants/orange-ci.png",
                payment_methods: ["Visa", "Mastercard", "Orange Money"],
                warranty: "12 mois Apple",
            },
            {
                merchant: "MTN Store",
                price: 195000,
                currency: "XOF",
                shipping: 2500,
                delivery: "Livraison 24h",
                stock: "En stock",
                rating: 4.3,
                logo: "/images/merchants/mtn-ci.png",
                payment_methods: ["Visa", "Mastercard", "MTN Money"],
                warranty: "12 mois Apple",
            },
            {
                merchant: "Electroplanet",
                price: 192000,
                currency: "XOF",
                shipping: 0,
                delivery: "Retrait gratuit",
                stock: "Stock limit√©",
                rating: 4.2,
                logo: "/images/merchants/electroplanet.png",
                payment_methods: ["Visa", "Mastercard", "Esp√®ces"],
                warranty: "12 mois Apple",
            },
        ],
        country_availability: ["CI", "SN", "ML", "BF"],
        is_active: true,
        created_at: "2024-01-15T10:30:00Z",
        updated_at: "2024-01-22T14:45:00Z",
        companies: {
            name: "Orange C√¥te d'Ivoire",
            logo_url: "/images/merchants/orange-ci.png",
        },
        product_types: {
            name: "√âlectronique",
            slug: "electronique",
        },
    },
    {
        id: "demo-iphone-15-pro",
        name: "iPhone 15 Pro 128GB Titane Naturel",
        description:
            "Smartphone premium avec puce A17 Pro et appareil photo 48MP",
        price: 899000,
        currency: "XOF",
        image_url: "/images/products/iphone-15-pro.jpg",
        features: [
            "Puce A17 Pro 3nm",
            "√âcran Super Retina XDR 6.1 pouces",
            "Appareil photo 48MP Pro",
            "Ch√¢ssis en titane",
            "USB-C avec Thunderbolt",
        ],
        offers: [
            {
                merchant: "MTN C√¥te d'Ivoire",
                price: 899000,
                currency: "XOF",
                shipping: 0,
                delivery: "Livraison gratuite",
                stock: "En stock",
                rating: 4.6,
                logo: "/images/merchants/mtn-ci.png",
                payment_methods: ["Visa", "Mastercard", "MTN Money"],
                warranty: "12 mois Apple",
            },
            {
                merchant: "Orange Store",
                price: 915000,
                currency: "XOF",
                shipping: 0,
                delivery: "Retrait en magasin",
                stock: "En stock",
                rating: 4.4,
                logo: "/images/merchants/orange-ci.png",
                payment_methods: ["Visa", "Mastercard", "Orange Money"],
                warranty: "12 mois Apple",
            },
            {
                merchant: "Apple Store Maroc",
                price: 925000,
                currency: "XOF",
                shipping: 5000,
                delivery: "Livraison 48h",
                stock: "Stock limit√©",
                rating: 4.8,
                logo: "/images/merchants/apple-ma.png",
                payment_methods: ["Visa", "Mastercard", "Apple Pay"],
                warranty: "12 mois Apple",
            },
        ],
        country_availability: ["CI", "SN", "MA", "TN"],
        is_active: true,
        created_at: "2024-01-16T12:00:00Z",
        updated_at: "2024-01-23T10:15:00Z",
        companies: {
            name: "MTN C√¥te d'Ivoire",
            logo_url: "/images/merchants/mtn-ci.png",
        },
        product_types: {
            name: "√âlectronique",
            slug: "electronique",
        },
    },
    {
        id: "demo-macbook-air-m3",
        name: "MacBook Air 13 pouces M3 256GB",
        description:
            "Ordinateur portable ultra-fin avec puce M3 et autonomie 18h",
        price: 1299000,
        currency: "XOF",
        image_url: "/images/products/macbook-air-m3.jpg",
        features: [
            "Puce Apple M3 8-core CPU",
            "√âcran Liquid Retina 13.6 pouces",
            "8GB RAM unifi√©e",
            "256GB SSD",
            "Autonomie jusqu'√† 18h",
            "Cam√©ra FaceTime HD 1080p",
        ],
        country_availability: ["CI", "SN", "MA", "TN"],
        is_active: true,
        created_at: "2024-01-17T14:30:00Z",
        updated_at: "2024-01-24T09:20:00Z",
        companies: {
            name: "Apple Store Maroc",
            logo_url: "/images/merchants/apple-ma.png",
        },
        product_types: {
            name: "√âlectronique",
            slug: "electronique",
        },
    },
    {
        id: "demo-samsung-galaxy-s24",
        name: "Samsung Galaxy S24 Ultra 256GB",
        description:
            "Smartphone Android premium avec S Pen et appareil photo 200MP",
        price: 950000,
        currency: "XOF",
        image_url: "/images/products/galaxy-s24.jpg",
        features: [
            "Snapdragon 8 Gen 3",
            "√âcran Dynamic AMOLED 6.8 pouces",
            "Appareil photo 200MP",
            "S Pen int√©gr√©",
            "Batterie 5000mAh",
        ],
        country_availability: ["CI", "SN", "NG", "KE"],
        is_active: true,
        created_at: "2024-01-29T10:00:00Z",
        updated_at: "2024-02-05T14:30:00Z",
        companies: {
            name: "Samsung Afrique",
            logo_url: "/images/merchants/samsung.png",
        },
        product_types: {
            name: "√âlectronique",
            slug: "electronique",
        },
    },
    {
        id: "demo-sony-wh1000xm5",
        name: "Sony WH-1000XM5 Casque Sans Fil",
        description: "Casque premium avec r√©duction de bruit leader du march√©",
        price: 245000,
        currency: "XOF",
        image_url: "/images/products/sony-wh1000xm5.jpg",
        features: [
            "R√©duction de bruit industrie leader",
            "Autonomie 30h",
            "Audio haute r√©solution",
            "Charge rapide 3min = 3h",
            "Multipoint Bluetooth",
        ],
        country_availability: ["CI", "SN", "MA", "TN"],
        is_active: true,
        created_at: "2024-01-30T15:20:00Z",
        updated_at: "2024-02-06T11:45:00Z",
        companies: {
            name: "Sony Maroc",
            logo_url: "/images/merchants/sony.png",
        },
        product_types: {
            name: "√âlectronique",
            slug: "electronique",
        },
    },

    // ===== ‚öΩ SPORT & OUTDOOR =====
    {
        id: "demo-nike-air-max",
        name: "Nike Air Max 270 React",
        description:
            "Chaussures de running avec technologie Air Max et semelle React",
        price: 85000,
        currency: "XOF",
        image_url: "/images/products/nike-air-max.jpg",
        features: [
            "Technologie Air Max 270",
            "Semelle React ultra-l√©g√®re",
            "Mesh respirant",
            "Design moderne",
            "Confort toute la journ√©e",
        ],
        country_availability: ["CI", "SN", "NG", "GH"],
        is_active: true,
        created_at: "2024-01-18T09:00:00Z",
        updated_at: "2024-01-25T16:30:00Z",
        companies: {
            name: "Decathlon Afrique",
            logo_url: "/images/merchants/decathlon.png",
        },
        product_types: {
            name: "Sport & Outdoor",
            slug: "sport-outdoor",
        },
    },
    {
        id: "demo-velo-electrique",
        name: "V√©lo √©lectrique urbain E-City 500W",
        description:
            "V√©lo √©lectrique pour la ville avec autonomie 80km et moteur 500W",
        price: 450000,
        currency: "XOF",
        image_url: "/images/products/velo-electrique.jpg",
        features: [
            "Moteur 500W brushless",
            "Batterie lithium 48V 13Ah",
            "Autonomie jusqu'√† 80km",
            "√âcran LCD multifonction",
            "Freins √† disque hydrauliques",
        ],
        country_availability: ["CI", "SN", "MA", "TN"],
        is_active: true,
        created_at: "2024-01-19T11:15:00Z",
        updated_at: "2024-01-26T14:00:00Z",
        companies: {
            name: "EcoBike Maroc",
            logo_url: "/images/merchants/ecobike.png",
        },
        product_types: {
            name: "Sport & Outdoor",
            slug: "sport-outdoor",
        },
    },

    // ===== üë∂ PU√âRICULTURE =====
    {
        id: "demo-poussette-premium",
        name: "Poussette 3-en-1 Premium Travel System",
        description:
            "Syst√®me de voyage complet : poussette, si√®ge auto et nacelle",
        price: 320000,
        currency: "XOF",
        image_url: "/images/products/poussette-premium.jpg",
        features: [
            "Syst√®me 3-en-1 complet",
            "Si√®ge auto groupe 0+",
            "Nacelle pour nouveau-n√©",
            "Ch√¢ssis aluminium l√©ger",
            "Roues tout-terrain",
        ],
        country_availability: ["CI", "SN", "ML", "BF"],
        is_active: true,
        created_at: "2024-01-20T08:30:00Z",
        updated_at: "2024-01-27T12:45:00Z",
        companies: {
            name: "Baby Store Dakar",
            logo_url: "/images/merchants/baby-store.png",
        },
        product_types: {
            name: "Pu√©riculture",
            slug: "puericulture",
        },
    },

    // ===== üè† MAISON & JARDIN =====
    {
        id: "demo-climatiseur-inverter",
        name: "Climatiseur Inverter 12000 BTU A++",
        description:
            "Climatiseur split inverter √©conomique avec t√©l√©commande WiFi",
        price: 285000,
        currency: "XOF",
        image_url: "/images/products/climatiseur.jpg",
        features: [
            "Technologie Inverter √©conomique",
            "12000 BTU/h",
            "Classe √©nerg√©tique A++",
            "Contr√¥le WiFi smartphone",
            "Mode nuit silencieux",
        ],
        country_availability: ["CI", "SN", "ML", "BF"],
        is_active: true,
        created_at: "2024-01-21T10:00:00Z",
        updated_at: "2024-01-28T15:20:00Z",
        companies: {
            name: "Electrom√©nager Plus",
            logo_url: "/images/merchants/electromenager.png",
        },
        product_types: {
            name: "Maison & Jardin",
            slug: "maison-jardin",
        },
    },

    // ===== üõí √âPICERIE =====
    {
        id: "demo-riz-parfume",
        name: "Riz Parfum√© Premium 25kg",
        description:
            "Riz parfum√© de qualit√© sup√©rieure, grain long, origine Tha√Ølande",
        price: 18500,
        currency: "XOF",
        image_url: "/images/products/riz-parfume.jpg",
        features: [
            "Grain long parfum√©",
            "Qualit√© premium",
            "Origine Tha√Ølande",
            "Sac de 25kg",
            "Livraison √† domicile",
        ],
        country_availability: ["CI", "SN", "ML", "BF"],
        is_active: true,
        created_at: "2024-01-22T07:00:00Z",
        updated_at: "2024-01-29T11:30:00Z",
        companies: {
            name: "Prosuma C√¥te d'Ivoire",
            logo_url: "/images/merchants/prosuma.png",
        },
        product_types: {
            name: "√âpicerie",
            slug: "epicerie",
        },
    },

    // ===== üéÆ JEUX VID√âO & JOUETS =====
    {
        id: "demo-ps5-console",
        name: "PlayStation 5 Console Standard",
        description:
            "Console de jeu nouvelle g√©n√©ration avec lecteur Blu-ray 4K",
        price: 450000,
        currency: "XOF",
        image_url: "/images/products/ps5.jpg",
        features: [
            "Processeur AMD Zen 2",
            "GPU AMD RDNA 2",
            "SSD ultra-rapide 825GB",
            "Lecteur Blu-ray 4K",
            "Manette DualSense incluse",
        ],
        country_availability: ["CI", "SN", "MA", "NG"],
        is_active: true,
        created_at: "2024-01-23T16:00:00Z",
        updated_at: "2024-01-30T09:45:00Z",
        companies: {
            name: "Gaming Zone Casablanca",
            logo_url: "/images/merchants/gaming-zone.png",
        },
        product_types: {
            name: "Jeux vid√©o & Jouets",
            slug: "jeux-video-jouets",
        },
    },

    // ===== üíÑ BEAUT√â & SANT√â =====
    {
        id: "demo-creme-visage-bio",
        name: "Cr√®me Visage Bio Karit√© & Argan 50ml",
        description:
            "Cr√®me hydratante naturelle aux huiles africaines, peaux sensibles",
        price: 15500,
        currency: "XOF",
        image_url: "/images/products/creme-bio.jpg",
        features: [
            "100% naturel et bio",
            "Beurre de karit√© du Burkina",
            "Huile d'argan du Maroc",
            "Sans parab√®nes ni sulfates",
            "Convient aux peaux sensibles",
        ],
        country_availability: ["CI", "SN", "ML", "BF", "MA"],
        is_active: true,
        created_at: "2024-01-24T11:00:00Z",
        updated_at: "2024-01-31T14:20:00Z",
        companies: {
            name: "Cosm√©tiques Africains",
            logo_url: "/images/merchants/cosmetiques-africains.png",
        },
        product_types: {
            name: "Beaut√© & Sant√©",
            slug: "beaute-sante",
        },
    },

    // ===== üöó AUTO & MOTO =====
    {
        id: "demo-pneus-michelin",
        name: "Pneus Michelin Energy Saver 195/65 R15",
        description: "Pneus √©conomiques longue dur√©e pour v√©hicules urbains",
        price: 85000,
        currency: "XOF",
        image_url: "/images/products/pneus-michelin.jpg",
        features: [
            "Technologie Energy Saver",
            "√âconomie de carburant 4%",
            "Dur√©e de vie prolong√©e",
            "Adh√©rence optimale",
            "Garantie 5 ans",
        ],
        country_availability: ["CI", "SN", "MA", "TN"],
        is_active: true,
        created_at: "2024-01-25T09:30:00Z",
        updated_at: "2024-02-01T16:45:00Z",
        companies: {
            name: "Michelin Afrique",
            logo_url: "/images/merchants/michelin.png",
        },
        product_types: {
            name: "Auto & Moto",
            slug: "auto-moto",
        },
    },

    // ===== üëó MODE & ACCESSOIRES =====
    {
        id: "demo-boubou-wax",
        name: "Boubou Homme Wax Premium Kente",
        description:
            "Boubou traditionnel en tissu wax authentique, coupe moderne",
        price: 45000,
        currency: "XOF",
        image_url: "/images/products/boubou-wax.jpg",
        features: [
            "Tissu wax 100% coton",
            "Motifs Kente traditionnels",
            "Coupe moderne ajust√©e",
            "Broderies artisanales",
            "Tailles S √† XXL",
        ],
        country_availability: ["CI", "SN", "ML", "BF", "GH"],
        is_active: true,
        created_at: "2024-01-26T13:15:00Z",
        updated_at: "2024-02-02T10:30:00Z",
        companies: {
            name: "Mode Africaine Dakar",
            logo_url: "/images/merchants/mode-africaine.png",
        },
        product_types: {
            name: "Mode & Accessoires",
            slug: "mode-accessoires",
        },
    },

    // ===== üêï ANIMALERIE =====
    {
        id: "demo-croquettes-chien",
        name: "Croquettes Premium Chien Adulte 15kg",
        description:
            "Alimentation compl√®te pour chiens adultes, riche en prot√©ines",
        price: 28500,
        currency: "XOF",
        image_url: "/images/products/croquettes-chien.jpg",
        features: [
            "Prot√©ines de haute qualit√©",
            "Vitamines et min√©raux",
            "Digestion facile",
            "Pelage brillant",
            "Sac de 15kg",
        ],
        country_availability: ["CI", "SN", "MA", "TN"],
        is_active: true,
        created_at: "2024-01-27T08:45:00Z",
        updated_at: "2024-02-03T12:15:00Z",
        companies: {
            name: "Animalerie du Sahel",
            logo_url: "/images/merchants/animalerie-sahel.png",
        },
        product_types: {
            name: "Animalerie",
            slug: "animalerie",
        },
    },

    // ===== ‚úàÔ∏è VOYAGES & SERVICES =====
    {
        id: "demo-assurance-voyage",
        name: "Assurance Voyage Afrique Compl√®te",
        description:
            "Couverture voyage compl√®te pour l'Afrique : sant√©, bagages, annulation",
        price: 25000,
        currency: "XOF",
        image_url: "/images/services/assurance-voyage.jpg",
        features: [
            "Couverture m√©dicale 50 000‚Ç¨",
            "Rapatriement inclus",
            "Bagages jusqu'√† 2 000‚Ç¨",
            "Annulation voyage",
            "Assistance 24h/7j",
        ],
        country_availability: ["CI", "SN", "ML", "BF", "MA", "TN"],
        is_active: true,
        created_at: "2024-01-28T14:20:00Z",
        updated_at: "2024-02-04T09:40:00Z",
        companies: {
            name: "Assurances Africaines",
            logo_url: "/images/merchants/assurances-africaines.png",
        },
        product_types: {
            name: "Voyages & Services",
            slug: "voyages-services",
        },
    },
]


// Fonction pour g√©n√©rer des offres par d√©faut pour un produit
const generateDefaultOffers = (product: any) => {
    const basePrice = product.price || 100000
    const merchantName = product.companies?.name || "Marchand Principal"
    const merchantLogo =
        product.companies?.logo_url || "/images/merchants/default.png"

    return [
        {
            merchant: merchantName,
            price: basePrice,
            currency: product.currency || "XOF",
            shipping: 0,
            delivery: "Retrait gratuit en magasin",
            stock: "En stock",
            rating: 4.2 + Math.random() * 0.6, // Entre 4.2 et 4.8
            logo: merchantLogo,
            payment_methods: ["Visa", "Mastercard", "Mobile Money"],
            warranty: "12 mois constructeur",
        },
        {
            merchant: "Marketplace AfricaHub",
            price: Math.round(basePrice * 1.05), // +5%
            currency: product.currency || "XOF",
            shipping: 2500,
            delivery: "Livraison 24-48h",
            stock: "En stock",
            rating: 4.0 + Math.random() * 0.5,
            logo: "/images/merchants/africahub.png",
            payment_methods: [
                "Visa",
                "Mastercard",
                "Orange Money",
                "MTN Money",
            ],
            warranty: "12 mois constructeur",
        },
        {
            merchant: "Partenaire Local",
            price: Math.round(basePrice * 0.95), // -5%
            currency: product.currency || "XOF",
            shipping: 0,
            delivery: "Retrait en point relais",
            stock: "Stock limit√©",
            rating: 3.8 + Math.random() * 0.4,
            logo: "/images/merchants/partenaire.png",
            payment_methods: ["Visa", "Mastercard", "Esp√®ces"],
            warranty: "6 mois",
        },
    ]
}

// Fonction pour obtenir les produits avec fallback et offres automatiques
export const getProductsWithFallback = (supabaseProducts: any[]) => {
    let products = []

    // Si Supabase retourne des donn√©es, les utiliser
    if (supabaseProducts && supabaseProducts.length > 0) {
        products = supabaseProducts
    } else {
        // Sinon, utiliser les donn√©es de d√©monstration
        console.log(
            "üîÑ Utilisation des donn√©es de d√©monstration pour les produits"
        )
        products = demoProducts
    }

    // Ajouter des offres par d√©faut aux produits qui n'en ont pas
    return products.map(product => ({
        ...product,
        offers: product.offers || generateDefaultOffers(product),
    }))
}

// Fonction pour adapter les donn√©es au format ProductComparisonView
export const getProductForComparison = (productId: string) => {
    const product = demoProducts.find(p => p.id === productId)
    if (!product) return null

    // G√©n√©rer des offres multiples pour la comparaison
    const generateOffers = (baseProduct: any) => {
        const offers = [
            {
                merchant: baseProduct.companies.name,
                price: baseProduct.price,
                currency: baseProduct.currency,
                shipping: 0,
                delivery: "Retrait gratuit",
                stock: "En stock",
                rating: 4.8,
                logo: baseProduct.companies.logo_url,
                payment_methods: ["Visa", "Mastercard", "Mobile Money"],
                warranty: "12 mois officiel",
            },
        ]

        // Ajouter des offres concurrentes avec des prix diff√©rents
        if (baseProduct.currency === "XOF") {
            offers.push(
                {
                    merchant: "Jumia C√¥te d'Ivoire",
                    price: baseProduct.price + 15000,
                    currency: baseProduct.currency,
                    shipping: 3000,
                    delivery: "3-5 jours",
                    stock: "Stock limit√©",
                    rating: 4.0,
                    logo: "/images/merchants/jumia.png",
                    payment_methods: [
                        "Visa",
                        "Mastercard",
                        "Paiement √† la livraison",
                    ],
                    warranty: "6 mois",
                },
                {
                    merchant: "MTN Store",
                    price: baseProduct.price - 5000,
                    currency: baseProduct.currency,
                    shipping: 0,
                    delivery: "Retrait en magasin",
                    stock: "En stock",
                    rating: 4.5,
                    logo: "/images/merchants/mtn-ci.png",
                    payment_methods: ["MTN Money", "Visa", "Esp√®ces"],
                    warranty: "12 mois",
                }
            )
        } else if (baseProduct.currency === "MAD") {
            offers.push({
                merchant: "Marjane Maroc",
                price: baseProduct.price + 500,
                currency: baseProduct.currency,
                shipping: 99,
                delivery: "2-3 jours",
                stock: "Stock limit√©",
                rating: 4.2,
                logo: "/images/merchants/marjane.png",
                payment_methods: ["Visa", "Mastercard", "Carte Marjane"],
                warranty: "12 mois",
            })
        }

        return offers
    }

    // G√©n√©rer des sp√©cifications d√©taill√©es
    const generateSpecifications = (product: any) => {
        const baseSpecs: Record<string, string> = {
            Marque: product.companies.name.split(" ")[0],
            Cat√©gorie: product.product_types.name,
            Prix: `${product.price.toLocaleString()} ${product.currency}`,
            Disponibilit√©: product.country_availability.join(", "),
        }

        // Sp√©cifications sp√©cifiques par cat√©gorie
        if (product.product_types.slug === "electronique") {
            if (product.name.includes("AirPods")) {
                return {
                    ...baseSpecs,
                    Connectivit√©: "Bluetooth 5.3",
                    Autonomie: "6h + 24h avec bo√Ætier",
                    R√©sistance: "IPX4",
                    Poids: "5.3g par √©couteur",
                }
            } else if (product.name.includes("iPhone")) {
                return {
                    ...baseSpecs,
                    √âcran: "6.1 pouces Super Retina XDR",
                    Stockage: "128GB/256GB/512GB",
                    "Appareil photo": "48MP + 12MP + 12MP",
                    Batterie: "Jusqu'√† 23h de vid√©o",
                }
            } else if (product.name.includes("MacBook")) {
                return {
                    ...baseSpecs,
                    Processeur: "Apple M3 8-core CPU",
                    M√©moire: "8GB/16GB/24GB",
                    Stockage: "256GB/512GB/1TB SSD",
                    √âcran: '13.6" Liquid Retina',
                }
            }
        }

        return baseSpecs
    }

    return {
        id: product.id,
        name: product.name,
        category: product.product_types.name,
        description: product.description,
        image: product.image_url,
        rating: 4.5, // Note moyenne simul√©e
        reviews: Math.floor(Math.random() * 2000) + 500, // Nombre d'avis simul√©
        features: product.features,
        specifications: generateSpecifications(product),
        offers: generateOffers(product),
        country_availability: product.country_availability,
    }
}

// Fonction pour obtenir les statistiques par secteur
export const getSectorStats = () => {
    const sectorCounts: Record<string, number> = {}

    demoProducts.forEach(product => {
        const sector = product.product_types.name
        sectorCounts[sector] = (sectorCounts[sector] || 0) + 1
    })

    return Object.entries(sectorCounts)
        .map(([name, count]) => ({ name, count }))
        .sort((a, b) => b.count - a.count)
}

// Fonction pour obtenir les produits tendances (les plus r√©cents)
export const getTrendingProducts = (limit: number = 6) => {
    return demoProducts
        .sort(
            (a, b) =>
                new Date(b.created_at).getTime() -
                new Date(a.created_at).getTime()
        )
        .slice(0, limit)
}

// Fonction pour obtenir les top cat√©gories avec leurs ic√¥nes
export const getTopCategories = () => {
    return [
        {
            name: "√âlectronique",
            slug: "electronique",
            icon: "üì±",
            count: demoProducts.filter(
                p => p.product_types.slug === "electronique"
            ).length,
            description: "Smartphones, ordinateurs, audio",
        },
        {
            name: "Sport & Outdoor",
            slug: "sport-outdoor",
            icon: "‚öΩ",
            count: demoProducts.filter(
                p => p.product_types.slug === "sport-outdoor"
            ).length,
            description: "√âquipements sportifs, v√©los",
        },
        {
            name: "Pu√©riculture",
            slug: "puericulture",
            icon: "üë∂",
            count: demoProducts.filter(
                p => p.product_types.slug === "puericulture"
            ).length,
            description: "B√©b√© et enfants",
        },
        {
            name: "Maison & Jardin",
            slug: "maison-jardin",
            icon: "üè†",
            count: demoProducts.filter(
                p => p.product_types.slug === "maison-jardin"
            ).length,
            description: "√âlectrom√©nager, d√©coration",
        },
        {
            name: "√âpicerie",
            slug: "epicerie",
            icon: "üõí",
            count: demoProducts.filter(p => p.product_types.slug === "epicerie")
                .length,
            description: "Alimentation, produits frais",
        },
        {
            name: "Jeux vid√©o & Jouets",
            slug: "jeux-video-jouets",
            icon: "üéÆ",
            count: demoProducts.filter(
                p => p.product_types.slug === "jeux-video-jouets"
            ).length,
            description: "Consoles, jeux, jouets",
        },
        {
            name: "Beaut√© & Sant√©",
            slug: "beaute-sante",
            icon: "üíÑ",
            count: demoProducts.filter(
                p => p.product_types.slug === "beaute-sante"
            ).length,
            description: "Cosm√©tiques, soins",
        },
        {
            name: "Auto & Moto",
            slug: "auto-moto",
            icon: "üöó",
            count: demoProducts.filter(
                p => p.product_types.slug === "auto-moto"
            ).length,
            description: "Pi√®ces auto, accessoires",
        },
        {
            name: "Mode & Accessoires",
            slug: "mode-accessoires",
            icon: "üëó",
            count: demoProducts.filter(
                p => p.product_types.slug === "mode-accessoires"
            ).length,
            description: "V√™tements, chaussures",
        },
        {
            name: "Animalerie",
            slug: "animalerie",
            icon: "üêï",
            count: demoProducts.filter(
                p => p.product_types.slug === "animalerie"
            ).length,
            description: "Animaux de compagnie",
        },
        {
            name: "Voyages & Services",
            slug: "voyages-services",
            icon: "‚úàÔ∏è",
            count: demoProducts.filter(
                p => p.product_types.slug === "voyages-services"
            ).length,
            description: "Assurances, voyages",
        },
    ].filter(category => category.count > 0)
}
